## Download Single Day of GTFS Schedule & Real-Time Data

Use `update_vars` and input one or several days to download. 

1. **Schedule data**: download data for [trips](./download_trips.py), [stops](./download_stops.py), [shapes](./download_shapes.py), and [stop times](./download_stop_times.py) and cache parquets in GCS
1. **Vehicle positions data**: download [RT vehicle positions](./download_vehicle_positions.py)
1. Use the `Makefile` and download schedule and RT data. In terminal: `make download_gtfs_data`
1. Other preprocessing steps for schedule and vp: `make preprocess`
1. Harmonize how route names are displayed in time-series: `make timeseries_preprocessing` 
1. Download monthly aggregated schedule data: `make monthly_scheduled_data`

[![gtfs_funnel_mermaid1](https://mermaid.ink/img/pako:eNqlVX9v2jAQ_SqWJwSTgBESCk23SqUQ_to0qWiTllSRSS7EarAj22lLK777nKRAKL86DSmJ8b1393w--15xwEPANm61Wh5TVCVgo8nUuUNOxhgkqPFTQCp4AFJSNv_ssQJYq716DCHKqLJRMUSormJYQN1G9RmRUG9WZ38RQcksAVnfwLUpFXRBxPKWJ1zkvE_jntNzbtbULWIKz2qL6nQ6-5AhFyGIY6CEMjhmkxBwFu7qcJz-eFjBKBCK7kCiKKqX5lX-0a9VreYxj80FSWM0HZbG8i2zWTkd8ieWcKKVrl0jFCREyhFEKIxQRJPEfkvDAYQMBE3VGlWIzEOucTdGw11H8JWGyna6vP9s2_YbsdW6Rlt4QXEL3L3G6PD79hiSFIRs00XKhfJlEEOYJfDm_moLHlZjy5ikcD740C2BX2fi-vfkbmD9u4zSQUXHrVGRoXiZglMibt0C9j8acn5FwmgnFdroK7r4QDpG7hZ8VMWo654UUtJ3OU9UxX5IBQSKcoa-oanI4ItDEgn3Fd3jqu5HiGmQgJ9ySXPWefnjbsPVJykgCph-znrYZef-xu5j-m4frtb1DSxcDzenabteP63eUpWteKdzZDYqSfZ3E3NyhaPuSSmP6TEJ43JpOrDGPACkfibzq_B8Pq2C8jF5-c_J4aXzo-Uz7ulNSoCwLN31V6kDp-A5RhE-vxuBSRDnw3er-DDfSP2fAREglf7SeTzjIp_-cTMamJv93V6ThxLLdakTxYUfCC7lE0keKvfdARUTLXsD9ecqkn5IlG5ISid_6SvuczEnjL6QAzndL8mJW7jIqVUe2oTYL1PcxAsQC0JD3VaLZufhogl62NbDECKSJcrDumNoKMkUv1uyANtKH8omzlItF0aU6OUvsB3lh7SJIaQ6B9_LVl107CZOCcP2K37GdmvQbZuXZvfSMvsD87JrWE28xLZ50Tas3sC6sCyj1xlYxqqJXzjXXo1219BNsGP0TVOjrb5VuPtTGIuQq79773TT?type=png)](https://mermaid.live/edit#pako:eNqlVX9v2jAQ_SqWJwSTgBESCk23SqUQ_to0qWiTllSRSS7EarAj22lLK777nKRAKL86DSmJ8b1393w--15xwEPANm61Wh5TVCVgo8nUuUNOxhgkqPFTQCp4AFJSNv_ssQJYq716DCHKqLJRMUSormJYQN1G9RmRUG9WZ38RQcksAVnfwLUpFXRBxPKWJ1zkvE_jntNzbtbULWIKz2qL6nQ6-5AhFyGIY6CEMjhmkxBwFu7qcJz-eFjBKBCK7kCiKKqX5lX-0a9VreYxj80FSWM0HZbG8i2zWTkd8ieWcKKVrl0jFCREyhFEKIxQRJPEfkvDAYQMBE3VGlWIzEOucTdGw11H8JWGyna6vP9s2_YbsdW6Rlt4QXEL3L3G6PD79hiSFIRs00XKhfJlEEOYJfDm_moLHlZjy5ikcD740C2BX2fi-vfkbmD9u4zSQUXHrVGRoXiZglMibt0C9j8acn5FwmgnFdroK7r4QDpG7hZ8VMWo654UUtJ3OU9UxX5IBQSKcoa-oanI4ItDEgn3Fd3jqu5HiGmQgJ9ySXPWefnjbsPVJykgCph-znrYZef-xu5j-m4frtb1DSxcDzenabteP63eUpWteKdzZDYqSfZ3E3NyhaPuSSmP6TEJ43JpOrDGPACkfibzq_B8Pq2C8jF5-c_J4aXzo-Uz7ulNSoCwLN31V6kDp-A5RhE-vxuBSRDnw3er-DDfSP2fAREglf7SeTzjIp_-cTMamJv93V6ThxLLdakTxYUfCC7lE0keKvfdARUTLXsD9ecqkn5IlG5ISid_6SvuczEnjL6QAzndL8mJW7jIqVUe2oTYL1PcxAsQC0JD3VaLZufhogl62NbDECKSJcrDumNoKMkUv1uyANtKH8omzlItF0aU6OUvsB3lh7SJIaQ6B9_LVl107CZOCcP2K37GdmvQbZuXZvfSMvsD87JrWE28xLZ50Tas3sC6sCyj1xlYxqqJXzjXXo1219BNsGP0TVOjrb5VuPtTGIuQq79773TT)

[![speeds_stop_times_mermaid](https://mermaid.ink/img/pako:eNqlVV1v2jAU_SuWJwSTgPERCqTapEJh07buYUV7WEDITW7AmmNHttOWVvz3OU5YkkK7Lx7A-J577_Hxsf2IfREAdnGr1VpyTTUDF31doGvYRMA1uo4BAoUID-ysFjFa0AjUktuEWu1xyRGinGoX2SFCdb2FCOouqt8QBfVmefYbkZTcMFD1X3ATiiWNiNxNBRMyzXs1G8wH84tDaoFYwL0uUJ1O5xgyETIA-RyIUQ7PxRT4ggdVHvP5cDYpYTRITSuQMAzrWXif_pivfa225EseMnHnb4nUaDHJACq52UgSb5HKxKUPcCiMkM-IUpcQoiBEIWXMzUU4gVC-pLE-oCzFU6isyWIXQw6dT-f98bSJlJbiB7gp9ZToIfOi2_D8RK-V2eR1nq3a8W712nXdvGerhYqE9EMYQ9qEkM3SqTUM6N0T1IVXKboyBYPwvMBMTGsFDPy_6C44ZJ1jkEhtSQx1VWJRAJXIpmNCpXGyBGT2WVGlU38XMOJLoZQtaZdQYufZ8lVqq_OydtkIeHCYLPbaHqB1TGNIzVdOmjY8DoaP0utbw1rYBkdLfqrlZcOj3PgwFozonBSRkt4S9tvcWcMr45VtmhKsZp6jA82TK0ovgVyGfHlFl3kjj6y1Md7bimS2QcmVx_ymJU_MbPx9wyO3IMkGDmUywsfWKG3YB08KxhLTmfINg4Ds3uQTUcI0Nf9L7sj2R4rEiBlQ-YJJM0Ivi2MuyVMe_FiVReY-t6h_keVTSZYkSu-9P5Dl83_IsipRuPIK8us7qrcpwJxdKvjKsps9WcMXT_lbCBIG68rKizOUS4mbOAIZERqYF8m-D0ts340lds0wgJAYpktsLlkDJYkW1zvuY1fLBJo4iQNzIi4pMVsRYTc0BjezEFAt5FX2ytnHroljwrH7iO-x2xr12v1xvzd2-sNRf9zrOk28w27_rN11BiPnzHG6g87I6e6b-EEIU7Xb7nXNu9HpDvt9g3aGji333QZty_1PICdHvQ?type=png)](https://mermaid.live/edit#pako:eNqlVV1v2jAU_SuWJwSTgPERCqTapEJh07buYUV7WEDITW7AmmNHttOWVvz3OU5YkkK7Lx7A-J577_Hxsf2IfREAdnGr1VpyTTUDF31doGvYRMA1uo4BAoUID-ysFjFa0AjUktuEWu1xyRGinGoX2SFCdb2FCOouqt8QBfVmefYbkZTcMFD1X3ATiiWNiNxNBRMyzXs1G8wH84tDaoFYwL0uUJ1O5xgyETIA-RyIUQ7PxRT4ggdVHvP5cDYpYTRITSuQMAzrWXif_pivfa225EseMnHnb4nUaDHJACq52UgSb5HKxKUPcCiMkM-IUpcQoiBEIWXMzUU4gVC-pLE-oCzFU6isyWIXQw6dT-f98bSJlJbiB7gp9ZToIfOi2_D8RK-V2eR1nq3a8W712nXdvGerhYqE9EMYQ9qEkM3SqTUM6N0T1IVXKboyBYPwvMBMTGsFDPy_6C44ZJ1jkEhtSQx1VWJRAJXIpmNCpXGyBGT2WVGlU38XMOJLoZQtaZdQYufZ8lVqq_OydtkIeHCYLPbaHqB1TGNIzVdOmjY8DoaP0utbw1rYBkdLfqrlZcOj3PgwFozonBSRkt4S9tvcWcMr45VtmhKsZp6jA82TK0ovgVyGfHlFl3kjj6y1Md7bimS2QcmVx_ymJU_MbPx9wyO3IMkGDmUywsfWKG3YB08KxhLTmfINg4Ds3uQTUcI0Nf9L7sj2R4rEiBlQ-YJJM0Ivi2MuyVMe_FiVReY-t6h_keVTSZYkSu-9P5Dl83_IsipRuPIK8us7qrcpwJxdKvjKsps9WcMXT_lbCBIG68rKizOUS4mbOAIZERqYF8m-D0ts340lds0wgJAYpktsLlkDJYkW1zvuY1fLBJo4iQNzIi4pMVsRYTc0BjezEFAt5FX2ytnHroljwrH7iO-x2xr12v1xvzd2-sNRf9zrOk28w27_rN11BiPnzHG6g87I6e6b-EEIU7Xb7nXNu9HpDvt9g3aGji333QZty_1PICdHvQ)