interactions:
- request:
    body: '{"maximumBytesBilled": "5000000000", "queryParameters": [{"parameterType":
      {"type": "STRING"}, "parameterValue": {"value": "2024-07-05"}, "name": "service_date_1"},
      {"parameterType": {"type": "ARRAY", "arrayType": {"type": "STRING"}}, "parameterValue":
      {"arrayValues": [{"value": "0007cf02f9eee5014e8dbab1bac07f5b"}]}, "name": "feed_key_1"},
      {"parameterType": {"type": "ARRAY", "arrayType": {"type": "STRING"}}, "parameterValue":
      {"arrayValues": [{"value": "20501"}]}, "name": "stop_id_1"}], "parameterMode":
      "NAMED", "useLegacySql": false, "formatOptions": {"useInt64Timestamp": true},
      "location": "us-west2", "query": "SELECT `test_shared_utils.fct_daily_scheduled_stops`.`key`,
      `test_shared_utils.fct_daily_scheduled_stops`.`service_date`, `test_shared_utils.fct_daily_scheduled_stops`.`feed_key`,
      `test_shared_utils.fct_daily_scheduled_stops`.`stop_id`, `test_shared_utils.fct_daily_scheduled_stops`.`feed_timezone`,
      `test_shared_utils.fct_daily_scheduled_stops`.`daily_arrivals`, `test_shared_utils.fct_daily_scheduled_stops`.`first_stop_arrival_datetime_pacific`,
      `test_shared_utils.fct_daily_scheduled_stops`.`last_stop_departure_datetime_pacific`,
      `test_shared_utils.fct_daily_scheduled_stops`.`_feed_valid_from`, `test_shared_utils.fct_daily_scheduled_stops`.`n_hours_in_service`,
      `test_shared_utils.fct_daily_scheduled_stops`.`n_route_types`, `test_shared_utils.fct_daily_scheduled_stops`.`arrivals_per_hour_owl`,
      `test_shared_utils.fct_daily_scheduled_stops`.`arrivals_per_hour_early_am`,
      `test_shared_utils.fct_daily_scheduled_stops`.`arrivals_per_hour_am_peak`, `test_shared_utils.fct_daily_scheduled_stops`.`arrivals_per_hour_midday`,
      `test_shared_utils.fct_daily_scheduled_stops`.`arrivals_per_hour_pm_peak`, `test_shared_utils.fct_daily_scheduled_stops`.`arrivals_per_hour_evening`,
      `test_shared_utils.fct_daily_scheduled_stops`.`arrivals_owl`, `test_shared_utils.fct_daily_scheduled_stops`.`arrivals_early_am`,
      `test_shared_utils.fct_daily_scheduled_stops`.`arrivals_am_peak`, `test_shared_utils.fct_daily_scheduled_stops`.`arrivals_midday`,
      `test_shared_utils.fct_daily_scheduled_stops`.`arrivals_pm_peak`, `test_shared_utils.fct_daily_scheduled_stops`.`arrivals_evening`,
      `test_shared_utils.fct_daily_scheduled_stops`.`route_type_0`, `test_shared_utils.fct_daily_scheduled_stops`.`route_type_1`,
      `test_shared_utils.fct_daily_scheduled_stops`.`route_type_2`, `test_shared_utils.fct_daily_scheduled_stops`.`route_type_3`,
      `test_shared_utils.fct_daily_scheduled_stops`.`route_type_4`, `test_shared_utils.fct_daily_scheduled_stops`.`route_type_5`,
      `test_shared_utils.fct_daily_scheduled_stops`.`route_type_6`, `test_shared_utils.fct_daily_scheduled_stops`.`route_type_7`,
      `test_shared_utils.fct_daily_scheduled_stops`.`route_type_11`, `test_shared_utils.fct_daily_scheduled_stops`.`route_type_12`,
      `test_shared_utils.fct_daily_scheduled_stops`.`missing_route_type`, `test_shared_utils.fct_daily_scheduled_stops`.`contains_warning_duplicate_stop_times_primary_key`,
      `test_shared_utils.fct_daily_scheduled_stops`.`contains_warning_duplicate_trip_primary_key`,
      `test_shared_utils.fct_daily_scheduled_stops`.`route_id_array`, `test_shared_utils.fct_daily_scheduled_stops`.`route_type_array`,
      `test_shared_utils.fct_daily_scheduled_stops`.`contains_warning_duplicate_stop_primary_key`,
      `test_shared_utils.fct_daily_scheduled_stops`.`stop_key`, `test_shared_utils.fct_daily_scheduled_stops`.`tts_stop_name`,
      `test_shared_utils.fct_daily_scheduled_stops`.`pt_geom`, `test_shared_utils.fct_daily_scheduled_stops`.`parent_station`,
      `test_shared_utils.fct_daily_scheduled_stops`.`stop_code`, `test_shared_utils.fct_daily_scheduled_stops`.`stop_name`,
      `test_shared_utils.fct_daily_scheduled_stops`.`stop_desc`, `test_shared_utils.fct_daily_scheduled_stops`.`location_type`,
      `test_shared_utils.fct_daily_scheduled_stops`.`stop_timezone_coalesced`, `test_shared_utils.fct_daily_scheduled_stops`.`wheelchair_boarding`
      \nFROM `test_shared_utils.fct_daily_scheduled_stops` \nWHERE `test_shared_utils.fct_daily_scheduled_stops`.`service_date`
      = @`service_date_1` AND `test_shared_utils.fct_daily_scheduled_stops`.`feed_key`
      IN UNNEST(@`feed_key_1`) AND `test_shared_utils.fct_daily_scheduled_stops`.`stop_id`
      IN UNNEST(@`stop_id_1`)", "maxResults": 5000, "requestId": "c4416523-130f-4269-9914-4feeadbf4984"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Authorization:
      - FILTERED
      Connection:
      - keep-alive
      Content-Length:
      - '4305'
      Content-Type:
      - application/json
      User-Agent:
      - sqlalchemy/2.0.45 gl-python/3.11.10 grpc/1.74.0 gax/2.25.1 gapic/3.36.0 gccl/3.36.0
      X-Goog-API-Client:
      - sqlalchemy/2.0.45 gl-python/3.11.10 grpc/1.74.0 gax/2.25.1 gapic/3.36.0 gccl/3.36.0
      x-goog-user-project:
      - cal-itp-data-infra
    method: POST
    uri: https://bigquery.googleapis.com/bigquery/v2/projects/cal-itp-data-infra-staging/queries?prettyPrint=false
  response:
    body:
      string: '{"kind":"bigquery#queryResponse","schema":{"fields":[{"name":"key","type":"STRING","mode":"NULLABLE"},{"name":"service_date","type":"DATE","mode":"NULLABLE"},{"name":"feed_key","type":"STRING","mode":"NULLABLE"},{"name":"stop_id","type":"STRING","mode":"NULLABLE"},{"name":"feed_timezone","type":"STRING","mode":"NULLABLE"},{"name":"daily_arrivals","type":"INTEGER","mode":"NULLABLE"},{"name":"first_stop_arrival_datetime_pacific","type":"DATETIME","mode":"NULLABLE"},{"name":"last_stop_departure_datetime_pacific","type":"DATETIME","mode":"NULLABLE"},{"name":"_feed_valid_from","type":"TIMESTAMP","mode":"NULLABLE"},{"name":"n_hours_in_service","type":"INTEGER","mode":"NULLABLE"},{"name":"n_route_types","type":"INTEGER","mode":"NULLABLE"},{"name":"arrivals_per_hour_owl","type":"FLOAT","mode":"NULLABLE"},{"name":"arrivals_per_hour_early_am","type":"FLOAT","mode":"NULLABLE"},{"name":"arrivals_per_hour_am_peak","type":"FLOAT","mode":"NULLABLE"},{"name":"arrivals_per_hour_midday","type":"FLOAT","mode":"NULLABLE"},{"name":"arrivals_per_hour_pm_peak","type":"FLOAT","mode":"NULLABLE"},{"name":"arrivals_per_hour_evening","type":"FLOAT","mode":"NULLABLE"},{"name":"arrivals_owl","type":"INTEGER","mode":"NULLABLE"},{"name":"arrivals_early_am","type":"INTEGER","mode":"NULLABLE"},{"name":"arrivals_am_peak","type":"INTEGER","mode":"NULLABLE"},{"name":"arrivals_midday","type":"INTEGER","mode":"NULLABLE"},{"name":"arrivals_pm_peak","type":"INTEGER","mode":"NULLABLE"},{"name":"arrivals_evening","type":"INTEGER","mode":"NULLABLE"},{"name":"route_type_0","type":"INTEGER","mode":"NULLABLE"},{"name":"route_type_1","type":"INTEGER","mode":"NULLABLE"},{"name":"route_type_2","type":"INTEGER","mode":"NULLABLE"},{"name":"route_type_3","type":"INTEGER","mode":"NULLABLE"},{"name":"route_type_4","type":"INTEGER","mode":"NULLABLE"},{"name":"route_type_5","type":"INTEGER","mode":"NULLABLE"},{"name":"route_type_6","type":"INTEGER","mode":"NULLABLE"},{"name":"route_type_7","type":"INTEGER","mode":"NULLABLE"},{"name":"route_type_11","type":"INTEGER","mode":"NULLABLE"},{"name":"route_type_12","type":"INTEGER","mode":"NULLABLE"},{"name":"missing_route_type","type":"INTEGER","mode":"NULLABLE"},{"name":"contains_warning_duplicate_stop_times_primary_key","type":"BOOLEAN","mode":"NULLABLE"},{"name":"contains_warning_duplicate_trip_primary_key","type":"BOOLEAN","mode":"NULLABLE"},{"name":"route_id_array","type":"STRING","mode":"REPEATED"},{"name":"route_type_array","type":"INTEGER","mode":"REPEATED"},{"name":"contains_warning_duplicate_stop_primary_key","type":"BOOLEAN","mode":"NULLABLE"},{"name":"stop_key","type":"STRING","mode":"NULLABLE"},{"name":"tts_stop_name","type":"STRING","mode":"NULLABLE"},{"name":"pt_geom","type":"GEOGRAPHY","mode":"NULLABLE"},{"name":"parent_station","type":"STRING","mode":"NULLABLE"},{"name":"stop_code","type":"STRING","mode":"NULLABLE"},{"name":"stop_name","type":"STRING","mode":"NULLABLE"},{"name":"stop_desc","type":"STRING","mode":"NULLABLE"},{"name":"location_type","type":"INTEGER","mode":"NULLABLE"},{"name":"stop_timezone_coalesced","type":"STRING","mode":"NULLABLE"},{"name":"wheelchair_boarding","type":"INTEGER","mode":"NULLABLE"}]},"jobReference":{"projectId":"cal-itp-data-infra-staging","jobId":"job_EtVXcDDdgk-jPbEhe8WgmYWH7Xe4","location":"us-west2"},"totalRows":"1","rows":[{"f":[{"v":"36e9a190be944c957bc0d73fb291466e"},{"v":"2024-07-05"},{"v":"0007cf02f9eee5014e8dbab1bac07f5b"},{"v":"20501"},{"v":"America/Los_Angeles"},{"v":"6"},{"v":"2024-07-05T07:40:00"},{"v":"2024-07-05T17:30:00"},{"v":"1720148416611382"},{"v":"5"},{"v":"1"},{"v":"0.0"},{"v":"0.0"},{"v":"2.0"},{"v":"0.8"},{"v":"0.4"},{"v":"0.0"},{"v":"0"},{"v":"0"},{"v":"6"},{"v":"4"},{"v":"2"},{"v":"0"},{"v":"0"},{"v":"0"},{"v":"0"},{"v":"12"},{"v":"0"},{"v":"0"},{"v":"0"},{"v":"0"},{"v":"0"},{"v":"0"},{"v":"0"},{"v":"false"},{"v":"false"},{"v":[{"v":"562"},{"v":"564"}]},{"v":[{"v":"3"}]},{"v":"false"},{"v":"1407791f42a01acfc040496be069673e"},{"v":null},{"v":"POINT(-118.25415
        36.977383)"},{"v":null},{"v":null},{"v":"Aberdeen - 150 Tinemaha Road"},{"v":null},{"v":"0"},{"v":"America/Los_Angeles"},{"v":"1"}]}],"totalBytesProcessed":"0","jobComplete":true,"cacheHit":true,"queryId":"job_EtVXcDDdgk-jPbEhe8WgmYWH7Xe4","jobCreationReason":{"code":"REQUESTED"},"totalBytesBilled":"0","location":"us-west2","creationTime":"1769202888043","startTime":"1769202888107","endTime":"1769202888190"}'
    headers:
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Fri, 23 Jan 2026 21:14:48 GMT
      Server:
      - ESF
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
